var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},t={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in t){var a=t[e];delete t[e];var i={id:e,exports:{}};return r[e]=i,a.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,r){t[e]=r},e.parcelRequired7c6=a),a("25dvs");var i=a("9CftO"),o=a("krGWQ"),n=a("cGFyt"),s=a("gjiCh"),c=a("aJ15F");document.addEventListener("DOMContentLoaded",(async function(){s.loader.show();const e=await i.apiService.getPopularMovies();s.loader.hide(),i.apiService.requestType="trending";try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}return(0,c.buildingPagination)(e),o.refs.cardContainer.innerHTML=(0,n.default)(e.results)})),window.addEventListener("resize",(e=>{try{const e=JSON.parse(localStorage.getItem("currentPage"));i.apiService.page=e.page,(0,c.buildingPagination)(e)}catch(e){console.log(e.message)}})),document.addEventListener("submit",(async function(e){e.preventDefault(),i.apiService.query=o.refs.homeHeaderForm.query.value,i.apiService.requestType="search",console.log(i.apiService.requestType),s.loader.show();const r=await i.apiService.fetchMovieByQuery();return s.loader.hide(),(0,c.buildingPagination)(r),o.refs.cardContainer.innerHTML=(0,n.default)(r.results)}));i=a("9CftO"),o=a("krGWQ"),n=a("cGFyt"),s=a("gjiCh"),c=a("aJ15F");o.refs.buttonsPagesList.addEventListener("click",(function(e){if("button"!==e.target.type)return;if("trending"===i.apiService.requestType){const r=e.target.textContent;return i.apiService.page=Number(r),s.loader.show(),i.apiService.getPopularMovies().then((e=>{(0,c.buildingPagination)(e),o.refs.cardContainer.innerHTML=(0,n.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}})).catch((e=>e.message)).finally((()=>s.loader.hide())),void window.scrollTo({top:0,left:0,behavior:"smooth"})}if("search"===i.apiService.requestType){const r=e.target.textContent;i.apiService.page=Number(r),s.loader.show(),i.apiService.fetchMovieByQuery().then((e=>{(0,c.buildingPagination)(e),o.refs.cardContainer.innerHTML=(0,n.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}})).catch((e=>e.message)).finally((()=>s.loader.hide())),window.scrollTo({top:0,left:0,behavior:"smooth"})}})),o.refs.buttonBack.addEventListener("click",(function(){if("trending"===i.apiService.requestType)return void(1!==i.apiService.page&&(i.apiService.page-=1,s.loader.show(),i.apiService.getPopularMovies().then((e=>{(0,c.buildingPagination)(e),o.refs.cardContainer.innerHTML=(0,n.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}})).catch((e=>e.message)).finally((()=>s.loader.hide())),window.scrollTo({top:0,left:0,behavior:"smooth"})));"search"===i.apiService.requestType&&1!==i.apiService.page&&(i.apiService.page-=1,s.loader.show(),i.apiService.fetchMovieByQuery().then((e=>{(0,c.buildingPagination)(e),o.refs.cardContainer.innerHTML=(0,n.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}})).catch((e=>e.message)).finally((()=>s.loader.hide())),window.scrollTo({top:0,left:0,behavior:"smooth"}))})),o.refs.buttonForward.addEventListener("click",(function(){"trending"===i.apiService.requestType&&i.apiService.page!==c.lastPage&&(i.apiService.page+=1,s.loader.show(),i.apiService.getPopularMovies().then((e=>{(0,c.buildingPagination)(e),o.refs.cardContainer.innerHTML=(0,n.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}})).catch((e=>e.message)).finally((()=>s.loader.hide())),window.scrollTo({top:0,left:0,behavior:"smooth"}));"search"===i.apiService.requestType&&i.apiService.page!==c.lastPage&&(i.apiService.page+=1,s.loader.show(),i.apiService.fetchMovieByQuery().then((e=>{(0,c.buildingPagination)(e),o.refs.cardContainer.innerHTML=(0,n.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}s.loader.hide()})).catch((e=>e.message)).finally((()=>s.loader.hide())),window.scrollTo({top:0,left:0,behavior:"smooth"}))})),a("8cwzF"),a("jXTiU");
//# sourceMappingURL=index.f838d309.js.map
