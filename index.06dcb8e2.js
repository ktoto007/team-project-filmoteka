!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return r[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},t.parcelRequired7c6=i),i("2JJTb");var a=i("bpxeT"),o=i("2TvXO"),s=i("jUnVF"),c=i("4Nugj"),u=i("1WxKN"),l=i("8MBJY"),d=i("a2hTj"),f=new(function(){"use strict";function t(){e(l)(this,t),this.loaderElement=document.createElement("div"),this.loaderElement.classList.add("loader");var r=document.createElement("div");r.classList.add("loader__filmstrip");var n=document.createElement("p");n.classList.add("loader__text"),n.textContent="loading",this.loaderElement.appendChild(r),this.loaderElement.appendChild(n)}return e(d)(t,[{key:"show",value:function(){document.body.appendChild(this.loaderElement)}},{key:"hide",value:function(){document.body.removeChild(this.loaderElement)}}]),t}()),p=i("1DdQm");function g(){return(g=e(a)(e(o).mark((function t(){var r;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.show(),e.next=3,s.apiService.getPopularMovies();case 3:r=e.sent,f.hide(),s.apiService.requestType="trending";try{localStorage.setItem("currentPage",JSON.stringify(r))}catch(e){console.log(e.message)}return(0,p.buildingPagination)(r),e.abrupt("return",c.refs.cardContainer.innerHTML=(0,u.default)(r.results));case 9:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function h(){return(h=e(a)(e(o).mark((function t(r){var n;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),s.apiService.query=c.refs.homeHeaderForm.query.value,s.apiService.requestType="search",f.show(),e.next=6,s.apiService.fetchMovieByQuery();case 6:if(n=e.sent,f.hide(),0!=n.results){e.next=11;break}return c.refs.paragrafAboutResult.classList.remove("search-incorrect"),e.abrupt("return");case 11:return c.refs.paragrafAboutResult.classList.add("search-incorrect"),(0,p.buildingPagination)(n),e.abrupt("return",c.refs.cardContainer.innerHTML=(0,u.default)(n.results));case 14:case"end":return e.stop()}}),t)})))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",(function(){return g.apply(this,arguments)})),window.addEventListener("resize",(function(e){try{var t=JSON.parse(localStorage.getItem("currentPage"));s.apiService.page=t.page,(0,p.buildingPagination)(t)}catch(e){console.log(e.message)}})),document.addEventListener("submit",(function(e){return h.apply(this,arguments)}));s=i("jUnVF"),c=i("4Nugj"),u=i("1WxKN"),p=i("1DdQm");c.refs.buttonsPagesList.addEventListener("click",(function(e){if("button"!==e.target.type)return;if("trending"===s.apiService.requestType){var t=e.target.textContent;return s.apiService.page=Number(t),f.show(),s.apiService.getPopularMovies().then((function(e){(0,p.buildingPagination)(e),c.refs.cardContainer.innerHTML=(0,u.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}})).catch((function(e){return e.message})).finally((function(){return f.hide()})),void window.scrollTo({top:0,left:0,behavior:"smooth"})}if("search"===s.apiService.requestType){var r=e.target.textContent;s.apiService.page=Number(r),f.show(),s.apiService.fetchMovieByQuery().then((function(e){(0,p.buildingPagination)(e),c.refs.cardContainer.innerHTML=(0,u.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}})).catch((function(e){return e.message})).finally((function(){return f.hide()})),window.scrollTo({top:0,left:0,behavior:"smooth"})}})),c.refs.buttonBack.addEventListener("click",(function(){if("trending"===s.apiService.requestType)return void(1!==s.apiService.page&&(s.apiService.page-=1,f.show(),s.apiService.getPopularMovies().then((function(e){(0,p.buildingPagination)(e),c.refs.cardContainer.innerHTML=(0,u.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}})).catch((function(e){return e.message})).finally((function(){return f.hide()})),window.scrollTo({top:0,left:0,behavior:"smooth"})));"search"===s.apiService.requestType&&1!==s.apiService.page&&(s.apiService.page-=1,f.show(),s.apiService.fetchMovieByQuery().then((function(e){(0,p.buildingPagination)(e),c.refs.cardContainer.innerHTML=(0,u.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}})).catch((function(e){return e.message})).finally((function(){return f.hide()})),window.scrollTo({top:0,left:0,behavior:"smooth"}))})),c.refs.buttonForward.addEventListener("click",(function(){"trending"===s.apiService.requestType&&s.apiService.page!==p.lastPage&&(s.apiService.page+=1,f.show(),s.apiService.getPopularMovies().then((function(e){(0,p.buildingPagination)(e),c.refs.cardContainer.innerHTML=(0,u.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}})).catch((function(e){return e.message})).finally((function(){return f.hide()})),window.scrollTo({top:0,left:0,behavior:"smooth"}));"search"===s.apiService.requestType&&s.apiService.page!==p.lastPage&&(s.apiService.page+=1,f.show(),s.apiService.fetchMovieByQuery().then((function(e){(0,p.buildingPagination)(e),c.refs.cardContainer.innerHTML=(0,u.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}f.hide()})).catch((function(e){return e.message})).finally((function(){return f.hide()})),window.scrollTo({top:0,left:0,behavior:"smooth"}))})),i("2Nth1"),i("hUsXy"),i("pev4y")}();
//# sourceMappingURL=index.06dcb8e2.js.map
