{"mappings":"oeAAAA,EAAA,SCCA,IAAAC,EAAAD,EAAA,S,0BCyCO,MAAME,EAAS,IAzBtB,MAgBEC,OACEC,SAASC,KAAKC,YAAYC,KAAKC,c,CAGjCC,OACEL,SAASC,KAAKK,YAAYH,KAAKC,c,CApBjCG,cACEJ,KAAKC,cAAgBJ,SAASQ,cAAc,OAC5CL,KAAKC,cAAcK,UAAUC,IAAI,UAEjC,MAAMC,EAAmBX,SAASQ,cAAc,OAChDG,EAAiBF,UAAUC,IAAI,qBAE/B,MAAME,EAAcZ,SAASQ,cAAc,KAC3CI,EAAYH,UAAUC,IAAI,gBAC1BE,EAAYC,YAAc,UAE1BV,KAAKC,cAAcF,YAAYS,GAC/BR,KAAKC,cAAcF,YAAYU,E,oBDvBnCZ,SAASc,iBAAiB,oBAEXC,iBACbjB,EAAOC,OACP,MAAMiB,QAAiBnB,EAAAoB,WAAWC,mBAClCpB,EAAOO,OAEPR,EAAAoB,WAAWE,YAAc,WACzB,IACEC,aAAaC,QAAQ,cAAeC,KAAKC,UAAUP,G,CACnD,MAAOQ,GACPC,QAAQC,IAAIF,EAAMG,Q,CAGpB,OADA,EAAAC,EAAAC,oBAAmBb,GACXc,EAAAC,KAAKC,cAAcC,WAAY,EAAAC,EAAAC,SACrCnB,EAASoB,Q,IAIbC,OAAOvB,iBAAiB,UAAUwB,IAChC,IACE,MAAMC,EAAsBjB,KAAKkB,MAAMpB,aAAaqB,QAAQ,gBAC5D5C,EAAAoB,WAAWyB,KAAOH,EAAoBG,MACtC,EAAAd,EAAAC,oBAAmBU,E,CACnB,MAAOf,GACPC,QAAQC,IAAIF,EAAMG,Q,KAGtB3B,SAASc,iBAAiB,UAE1BC,eAAsC4B,GACpCA,EAAEC,iBAEF/C,EAAAoB,WAAW4B,MAAQf,EAAAC,KAAKe,eAAeD,MAAME,MAC7ClD,EAAAoB,WAAWE,YAAc,SAEzBrB,EAAOC,OACP,MAAMiB,QAAiBnB,EAAAoB,WAAW+B,oBAGlC,GADAlD,EAAOO,OACiB,GAApBW,EAASoB,QAEX,YADAN,EAAAC,KAAKkB,oBAAoBxC,UAAUyC,OAAO,oBAK5C,OAFApB,EAAAC,KAAKkB,oBAAoBxC,UAAUC,IAAI,qBACvC,EAAAkB,EAAAC,oBAAmBb,GACXc,EAAAC,KAAKC,cAAcC,WAAY,EAAAC,EAAAC,SACrCnB,EAASoB,Q,IEtDbvC,EAAAD,EAAA,S,uCAMAkC,EAAAC,KAAKoB,iBAAiBrC,iBAAiB,SAIvC,SAAoCwB,GAChC,GAAwB,WAApBA,EAAIc,OAAOC,KACf,OAGA,GAA+B,aAA3BxD,EAAAoB,WAAWE,YAA4B,CACvC,MAAMmC,EAAYhB,EAAIc,OAAOvC,YAS7B,OARAhB,EAAAoB,WAAWyB,KAAOa,OAAOD,GACzBxD,EAAOC,OACPF,EAAAoB,WAAWC,mBAAmBsC,MAAKC,KAC/B,EAAA7B,EAAAC,oBAAmB4B,GACnB3B,EAAAC,KAAKC,cAAcC,WAAY,EAAAC,EAAAC,SAAsBsB,EAAKrB,SAC1D,IAAMhB,aAAaC,QAAQ,cAAeC,KAAKC,UAAUkC,G,CAAS,MAAOjC,GAASC,QAAQC,IAAIF,EAAMG,Q,KACrG+B,OAAMlC,GAASA,EAAMG,UAASgC,SAAQ,IAAM7D,EAAOO,cACtDgC,OAAOuB,SAAS,CAAEC,IAAK,EAAGC,KAAM,EAAGC,SAAU,U,CAIjD,GAA+B,WAA3BlE,EAAAoB,WAAWE,YAA0B,CACrC,MAAMmC,EAAYhB,EAAIc,OAAOvC,YAC7BhB,EAAAoB,WAAWyB,KAAOa,OAAOD,GACzBxD,EAAOC,OACPF,EAAAoB,WAAW+B,oBAAoBQ,MAAKC,KAChC,EAAA7B,EAAAC,oBAAmB4B,GACnB3B,EAAAC,KAAKC,cAAcC,WAAY,EAAAC,EAAAC,SAAsBsB,EAAKrB,SAC1D,IAAMhB,aAAaC,QAAQ,cAAeC,KAAKC,UAAUkC,G,CAAS,MAAOjC,GAASC,QAAQC,IAAIF,EAAMG,Q,KACrG+B,OAAMlC,GAASA,EAAMG,UAASgC,SAAQ,IAAM7D,EAAOO,SAEtDgC,OAAOuB,SAAS,CAAEC,IAAK,EAAGC,KAAM,EAAGC,SAAU,U,KA/BrDjC,EAAAC,KAAKiC,WAAWlD,iBAAiB,SAmCjC,WACI,GAA+B,aAA3BjB,EAAAoB,WAAWE,YAWX,YAVwB,IAApBtB,EAAAoB,WAAWyB,OACX7C,EAAAoB,WAAWyB,MAAQ,EACnB5C,EAAOC,OACPF,EAAAoB,WAAWC,mBAAmBsC,MAAKC,KAC/B,EAAA7B,EAAAC,oBAAmB4B,GACnB3B,EAAAC,KAAKC,cAAcC,WAAY,EAAAC,EAAAC,SAAsBsB,EAAKrB,SAC1D,IAAMhB,aAAaC,QAAQ,cAAeC,KAAKC,UAAUkC,G,CAAS,MAAOjC,GAASC,QAAQC,IAAIF,EAAMG,Q,KACrG+B,OAAMlC,GAASA,EAAMG,UAASgC,SAAQ,IAAM7D,EAAOO,SACtDgC,OAAOuB,SAAS,CAAEC,IAAK,EAAGC,KAAM,EAAGC,SAAU,aAItB,WAA3BlE,EAAAoB,WAAWE,aACa,IAApBtB,EAAAoB,WAAWyB,OACX7C,EAAAoB,WAAWyB,MAAQ,EACnB5C,EAAOC,OACPF,EAAAoB,WAAW+B,oBAAoBQ,MAAKC,KAChC,EAAA7B,EAAAC,oBAAmB4B,GACnB3B,EAAAC,KAAKC,cAAcC,WAAY,EAAAC,EAAAC,SAAsBsB,EAAKrB,SAC1D,IAAMhB,aAAaC,QAAQ,cAAeC,KAAKC,UAAUkC,G,CAAS,MAAOjC,GAASC,QAAQC,IAAIF,EAAMG,Q,KACrG+B,OAAMlC,GAASA,EAAMG,UAASgC,SAAQ,IAAM7D,EAAOO,SACtDgC,OAAOuB,SAAS,CAAEC,IAAK,EAAGC,KAAM,EAAGC,SAAU,W,IAzDzDjC,EAAAC,KAAKkC,cAAcnD,iBAAiB,SA8DpC,WACmC,aAA3BjB,EAAAoB,WAAWE,aACPtB,EAAAoB,WAAWyB,OAASd,EAAAsC,WACpBrE,EAAAoB,WAAWyB,MAAQ,EACnB5C,EAAOC,OACPF,EAAAoB,WAAWC,mBAAmBsC,MAAKC,KAC/B,EAAA7B,EAAAC,oBAAmB4B,GACnB3B,EAAAC,KAAKC,cAAcC,WAAY,EAAAC,EAAAC,SAAsBsB,EAAKrB,SAC1D,IAAMhB,aAAaC,QAAQ,cAAeC,KAAKC,UAAUkC,G,CAAS,MAAOjC,GAASC,QAAQC,IAAIF,EAAMG,Q,KACrG+B,OAAMlC,GAASA,EAAMG,UAASgC,SAAQ,IAAM7D,EAAOO,SACtDgC,OAAOuB,SAAS,CAAEC,IAAK,EAAGC,KAAM,EAAGC,SAAU,YAItB,WAA3BlE,EAAAoB,WAAWE,aACPtB,EAAAoB,WAAWyB,OAASd,EAAAsC,WACpBrE,EAAAoB,WAAWyB,MAAQ,EACnB5C,EAAOC,OACPF,EAAAoB,WAAW+B,oBAAoBQ,MAAKC,KAChC,EAAA7B,EAAAC,oBAAmB4B,GACnB3B,EAAAC,KAAKC,cAAcC,WAAY,EAAAC,EAAAC,SAAsBsB,EAAKrB,SAC1D,IAAMhB,aAAaC,QAAQ,cAAeC,KAAKC,UAAUkC,G,CAAS,MAAOjC,GAASC,QAAQC,IAAIF,EAAMG,Q,CACnG7B,EAAOO,MAAM,IACfqD,OAAMlC,GAASA,EAAMG,UAASgC,SAAQ,IAAM7D,EAAOO,SACtDgC,OAAOuB,SAAS,CAAEC,IAAK,EAAGC,KAAM,EAAGC,SAAU,W","sources":["src/index.js","src/js/mainRendering.js","src/js/loader.js","src/js/pagination.js"],"sourcesContent":["import './js/workWithLocalStorage';\nimport './js/mainRendering';\nimport './js/pagination';\nimport './js/modalWindowRendering';\nimport './js/footerModalRendering';\nimport './js/buttonToTop'","// Сюди бажано не лізти\nimport { apiService } from './filmsAPIServise';\nimport { refs } from './refs';\nimport renderMarkupFilmsCard from './renderMarkupFilmsCard';\nimport { loader } from './loader';\nimport { lastPage, buildingPagination } from './renderingPagination';\n\ndocument.addEventListener('DOMContentLoaded', receivingPopularFilms);\n\nexport default async function receivingPopularFilms() {\n  loader.show();\n  const responce = await apiService.getPopularMovies();\n  loader.hide();\n\n  apiService.requestType = 'trending';\n  try {\n    localStorage.setItem('currentPage', JSON.stringify(responce));\n  } catch (error) {\n    console.log(error.message);\n  }\n  buildingPagination(responce);\n  return (refs.cardContainer.innerHTML = renderMarkupFilmsCard(\n    responce.results\n  ));\n}\n\nwindow.addEventListener('resize', evt => {\n  try {\n    const filmsForCurrentPage = JSON.parse(localStorage.getItem('currentPage'));\n    apiService.page = filmsForCurrentPage.page;\n    buildingPagination(filmsForCurrentPage);\n  } catch (error) {\n    console.log(error.message);\n  }\n});\ndocument.addEventListener('submit', gettingMoviesByKeyword);\n\nasync function gettingMoviesByKeyword(e) {\n  e.preventDefault();\n\n  apiService.query = refs.homeHeaderForm.query.value;\n  apiService.requestType = 'search';\n\n  loader.show();\n  const responce = await apiService.fetchMovieByQuery();\n\n  loader.hide();\n  if (responce.results == 0) {\n    refs.paragrafAboutResult.classList.remove('search-incorrect');\n    return;\n  }\n  refs.paragrafAboutResult.classList.add('search-incorrect');\n  buildingPagination(responce);\n  return (refs.cardContainer.innerHTML = renderMarkupFilmsCard(\n    responce.results\n  ));\n}\n","//  class Loader {\n//   constructor() {\n//     this.loaderElement = document.createElement('div');\n//     this.loaderElement.className = 'loader';\n//   }\n\n//   show() {\n//     document.body.appendChild(this.loaderElement);\n//   }\n\n//   hide() {\n//     this.loaderElement.remove();\n//   }\n// }\n\n// export const loader = new Loader();\n\nclass Loader {\n  constructor() {\n    this.loaderElement = document.createElement('div');\n    this.loaderElement.classList.add('loader');\n\n    const filmstripElement = document.createElement('div');\n    filmstripElement.classList.add('loader__filmstrip');\n\n    const textElement = document.createElement('p');\n    textElement.classList.add('loader__text');\n    textElement.textContent = 'loading';\n\n    this.loaderElement.appendChild(filmstripElement);\n    this.loaderElement.appendChild(textElement);\n  }\n\n  show() {\n    document.body.appendChild(this.loaderElement);\n  }\n\n  hide() {\n    document.body.removeChild(this.loaderElement);\n  }\n}\n\nexport const loader = new Loader();","import { apiService } from './filmsAPIServise';\nimport { refs } from './refs' ;\nimport renderMarkupFilmsCard from './renderMarkupFilmsCard';\nimport { loader } from './loader';\nimport {lastPage, buildingPagination } from './renderingPagination';\n\nrefs.buttonsPagesList.addEventListener('click', renderingFilmsByPageNumber);\nrefs.buttonBack.addEventListener('click', goBackOnePage);\nrefs.buttonForward.addEventListener('click', goForwardOnePage);\n\nfunction renderingFilmsByPageNumber(evt) {\n    if (evt.target.type !== 'button') {\n    return\n    }\n\n    if (apiService.requestType === 'trending') {\n        const fetchPage = evt.target.textContent;\n        apiService.page = Number(fetchPage);\n        loader.show();\n        apiService.getPopularMovies().then(data => {\n            buildingPagination(data);\n            refs.cardContainer.innerHTML = renderMarkupFilmsCard(data.results);\n            try { localStorage.setItem('currentPage', JSON.stringify(data)) } catch (error) { console.log(error.message) }\n        }).catch(error => error.message).finally(() => loader.hide());\n        window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" });\n        return\n    }\n\n    if (apiService.requestType === 'search') {\n        const fetchPage = evt.target.textContent;\n        apiService.page = Number(fetchPage);\n        loader.show();\n        apiService.fetchMovieByQuery().then(data => {\n            buildingPagination(data);\n            refs.cardContainer.innerHTML = renderMarkupFilmsCard(data.results)\n            try { localStorage.setItem('currentPage', JSON.stringify(data)) } catch (error) { console.log(error.message) }\n        }).catch(error => error.message).finally(() => loader.hide());\n        \n        window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" }); \n    }\n}\n\nfunction goBackOnePage() {\n    if (apiService.requestType === 'trending') {\n        if (apiService.page !== 1) {\n            apiService.page -= 1;\n            loader.show();\n            apiService.getPopularMovies().then(data => {\n                buildingPagination(data);\n                refs.cardContainer.innerHTML = renderMarkupFilmsCard(data.results);\n                try { localStorage.setItem('currentPage', JSON.stringify(data)) } catch (error) { console.log(error.message) }\n            }).catch(error => error.message).finally(() => loader.hide());\n            window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" })\n        }\n        return\n    }\n    if (apiService.requestType === 'search') {\n        if (apiService.page !== 1) {\n            apiService.page -= 1;\n            loader.show();\n            apiService.fetchMovieByQuery().then(data => {\n                buildingPagination(data);\n                refs.cardContainer.innerHTML = renderMarkupFilmsCard(data.results);\n                try { localStorage.setItem('currentPage', JSON.stringify(data)) } catch (error) { console.log(error.message) }\n            }).catch(error => error.message).finally(() => loader.hide());\n            window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" })\n        }\n    }\n}\n\nfunction goForwardOnePage() {\n    if (apiService.requestType === 'trending') {\n        if (apiService.page !== lastPage) {\n            apiService.page += 1;\n            loader.show();\n            apiService.getPopularMovies().then(data => {\n                buildingPagination(data);\n                refs.cardContainer.innerHTML = renderMarkupFilmsCard(data.results);\n                try { localStorage.setItem('currentPage', JSON.stringify(data)) } catch (error) { console.log(error.message) }\n            }).catch(error => error.message).finally(() => loader.hide());\n            window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" })\n        }\n    }\n\n    if (apiService.requestType === 'search') {\n        if (apiService.page !== lastPage) {\n            apiService.page += 1;\n            loader.show();\n            apiService.fetchMovieByQuery().then(data => {\n                buildingPagination(data);\n                refs.cardContainer.innerHTML = renderMarkupFilmsCard(data.results)\n                try { localStorage.setItem('currentPage', JSON.stringify(data)) } catch (error) { console.log(error.message) }\n                 loader.hide();\n            }).catch(error => error.message).finally(() => loader.hide());\n            window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" })\n        }\n    }\n}\n"],"names":["parcelRequire","$9CftO","$bdfcdc80b4c38739$export$f4c5de44377d2946","show","document","body","appendChild","this","loaderElement","hide","removeChild","constructor","createElement","classList","add","filmstripElement","textElement","textContent","addEventListener","async","responce","apiService","getPopularMovies","requestType","localStorage","setItem","JSON","stringify","error","console","log","message","$aJ15F","buildingPagination","$krGWQ","refs","cardContainer","innerHTML","$cGFyt","default","results","window","evt","filmsForCurrentPage","parse","getItem","page","e","preventDefault","query","homeHeaderForm","value","fetchMovieByQuery","paragrafAboutResult","remove","buttonsPagesList","target","type","fetchPage","Number","then","data","catch","finally","scrollTo","top","left","behavior","buttonBack","buttonForward","lastPage"],"version":3,"file":"index.bd2d3405.js.map"}