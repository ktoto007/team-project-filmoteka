var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in r){var i=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,i.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},e.parcelRequired7c6=i),i("25dvs");var a=i("9CftO"),n=i("krGWQ"),o=i("cGFyt");const s=new class{show(){document.body.appendChild(this.loaderElement)}hide(){document.body.removeChild(this.loaderElement)}constructor(){this.loaderElement=document.createElement("div"),this.loaderElement.classList.add("loader");const e=document.createElement("div");e.classList.add("loader__filmstrip");const t=document.createElement("p");t.classList.add("loader__text"),t.textContent="loading",this.loaderElement.appendChild(e),this.loaderElement.appendChild(t)}};var c=i("aJ15F");document.addEventListener("DOMContentLoaded",(async function(){s.show();const e=await a.apiService.getPopularMovies();s.hide(),a.apiService.requestType="trending";try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}return(0,c.buildingPagination)(e),n.refs.cardContainer.innerHTML=(0,o.default)(e.results)})),window.addEventListener("resize",(e=>{try{const e=JSON.parse(localStorage.getItem("currentPage"));a.apiService.page=e.page,(0,c.buildingPagination)(e)}catch(e){console.log(e.message)}})),document.addEventListener("submit",(async function(e){e.preventDefault(),a.apiService.query=n.refs.homeHeaderForm.query.value,a.apiService.requestType="search",s.show();const t=await a.apiService.fetchMovieByQuery();if(s.hide(),0==t.results)return void n.refs.paragrafAboutResult.classList.remove("search-incorrect");return n.refs.paragrafAboutResult.classList.add("search-incorrect"),(0,c.buildingPagination)(t),n.refs.cardContainer.innerHTML=(0,o.default)(t.results)}));a=i("9CftO"),n=i("krGWQ"),o=i("cGFyt"),c=i("aJ15F");n.refs.buttonsPagesList.addEventListener("click",(function(e){if("button"!==e.target.type)return;if("trending"===a.apiService.requestType){const t=e.target.textContent;return a.apiService.page=Number(t),s.show(),a.apiService.getPopularMovies().then((e=>{(0,c.buildingPagination)(e),n.refs.cardContainer.innerHTML=(0,o.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}})).catch((e=>e.message)).finally((()=>s.hide())),void window.scrollTo({top:0,left:0,behavior:"smooth"})}if("search"===a.apiService.requestType){const t=e.target.textContent;a.apiService.page=Number(t),s.show(),a.apiService.fetchMovieByQuery().then((e=>{(0,c.buildingPagination)(e),n.refs.cardContainer.innerHTML=(0,o.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}})).catch((e=>e.message)).finally((()=>s.hide())),window.scrollTo({top:0,left:0,behavior:"smooth"})}})),n.refs.buttonBack.addEventListener("click",(function(){if("trending"===a.apiService.requestType)return void(1!==a.apiService.page&&(a.apiService.page-=1,s.show(),a.apiService.getPopularMovies().then((e=>{(0,c.buildingPagination)(e),n.refs.cardContainer.innerHTML=(0,o.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}})).catch((e=>e.message)).finally((()=>s.hide())),window.scrollTo({top:0,left:0,behavior:"smooth"})));"search"===a.apiService.requestType&&1!==a.apiService.page&&(a.apiService.page-=1,s.show(),a.apiService.fetchMovieByQuery().then((e=>{(0,c.buildingPagination)(e),n.refs.cardContainer.innerHTML=(0,o.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}})).catch((e=>e.message)).finally((()=>s.hide())),window.scrollTo({top:0,left:0,behavior:"smooth"}))})),n.refs.buttonForward.addEventListener("click",(function(){"trending"===a.apiService.requestType&&a.apiService.page!==c.lastPage&&(a.apiService.page+=1,s.show(),a.apiService.getPopularMovies().then((e=>{(0,c.buildingPagination)(e),n.refs.cardContainer.innerHTML=(0,o.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}})).catch((e=>e.message)).finally((()=>s.hide())),window.scrollTo({top:0,left:0,behavior:"smooth"}));"search"===a.apiService.requestType&&a.apiService.page!==c.lastPage&&(a.apiService.page+=1,s.show(),a.apiService.fetchMovieByQuery().then((e=>{(0,c.buildingPagination)(e),n.refs.cardContainer.innerHTML=(0,o.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}s.hide()})).catch((e=>e.message)).finally((()=>s.hide())),window.scrollTo({top:0,left:0,behavior:"smooth"}))})),i("8cwzF"),i("jXTiU"),i("g1tlT");
//# sourceMappingURL=index.bd2d3405.js.map
