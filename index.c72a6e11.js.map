{"mappings":"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","sources":["src/js/workWithLocalStorage.js","src/js/filmsAPIServise.js","src/js/renderMarkupFilmsCard.js","src/js/loader.js","src/js/renderingPagination.js","src/js/refs.js","src/js/modalWindowRendering.js"],"sourcesContent":["import { apiService } from './filmsAPIServise';\n\nasync function getGenresInfo() {\n  const response = await apiService.fetchMovieGenres();\n\n  const genres = response.genres;\n  genres.map(item => {\n    const values = Object.values(item);\n    localStorage.setItem(values[0], values[1]);\n  });\n}\n\ngetGenresInfo();\n\nclass LibraryLogic {\n  constructor() {}\n\n  addToLocalStorage(film, listType) {\n    let moviesList;\n\n    // Перевірка типу списку та отримання відповідного списку фільмів з localStorage\n    if (listType === 'watched') {\n      moviesList = JSON.parse(localStorage.getItem('watched')) || [];\n    } else if (listType === 'queue') {\n      moviesList = JSON.parse(localStorage.getItem('queue')) || [];\n    }\n\n    // Перевірка на наявність дублікатів в списку фільмів\n    if (!moviesList.find(movie => movie.id === film.id)) {\n      // Додавання фільму до списку\n      moviesList.push(film);\n\n      // Оновлення localStorage\n      localStorage.setItem(listType, JSON.stringify(moviesList));\n    }\n  }\n\n  removeFromLocalstorage(film, type) {\n\n    if (type == 'queue') {\n\n      const queueMovies = JSON.parse(localStorage.getItem('queue'));\n      if (queueMovies.find(queueMovie => queueMovie.id === film.id)) {\n        localStorage.setItem(\n          'queue',\n          JSON.stringify(\n            queueMovies.filter(queueMovie => queueMovie.id !== film.id)\n          )\n        );\n      }\n      return;\n    } else {\n      const watchedMovies = JSON.parse(localStorage.getItem('watched'));\n\n      if (watchedMovies.find(watchedMovie => watchedMovie.id === film.id)) {\n        localStorage.setItem(\n          'watched',\n          JSON.stringify(\n            watchedMovies.filter(watchedMovie => watchedMovie.id !== film.id)\n          )\n        );\n      }\n      return;\n    }\n  }\n\n  getFromStorage(key) {\n    try {\n      const movieStorage = localStorage.getItem(key);\n      if (movieStorage === null) {\n        return [];\n      } else {\n        return JSON.parse(movieStorage);\n      }\n    } catch (error) {\n      console.log(`Error`);\n      return [];\n    }\n  }\n}\n\nexport const libraryLogic = new LibraryLogic();\n","const BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'aa05d9ef1feff0e96ac321d8773a5c67';\n\nclass Apiservice {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n    this.requestType = 'trending';\n  }\n\n  async fetchMovieByQuery() {\n    const response = await fetch(\n      `${BASE_URL}${this.requestType}/movie?api_key=${API_KEY}&query=${this.searchQuery}&page=${this.page}`\n    );\n    const results = await response.json();\n    return results;\n  }\n\n  async getPopularMovies() {\n    try {\n      const response = await fetch(\n        `${BASE_URL}${this.requestType}/movie/day?api_key=${API_KEY}&page=${this.page}`\n      );\n      const data = await response.json();\n      const popularMovies = data;\n      return popularMovies;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async fetchMovieGenres() {\n    try {\n      const url = `${BASE_URL}genre/movie/list?api_key=${API_KEY}`;\n      const response = await fetch(url);\n\n      if (!response.ok) {\n        throw new Error('error');\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async getMoviesDetails(id) {\n    try {\n      const response = await fetch(\n        `${BASE_URL}movie/${id}?api_key=${API_KEY}&language=${this.lang}`\n      );\n      if (!response.ok) {\n        throw new Error('error');\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async getMovieTrailer(id) {\n    const url = `${BASE_URL}movie/${id}/videos?api_key=${API_KEY}`;\n\n    try {\n      const response = await fetch(url);\n      if (!response.ok) {\n        throw new Error(`Error`);\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n\n  get pages() {\n    return this.page;\n  }\n  set pages(newPage) {\n    this.page = newPage;\n  }\n  get type() {\n    return this.requestType;\n  }\n\n  set type(newType) {\n    this.requestType = newType;\n  }\n}\n\nexport const apiService = new Apiservice();","//Катя Допрацьовуєш тут\n\nexport default function renderMarkupFilmsCard(films) {\n  const markupFilmsCard = films\n    .map(({ title, poster_path, release_date, genre_ids, id }) => {\n      // Перевірка кількості жанрів\n\n      const genresId = genre_ids.map(id => localStorage.getItem(id));\n      \n      if (genresId.length > 2) {\n        genresId.splice(2, genresId.length - 2, 'Other');\n      }\n\n      const genres = genresId.join(', ');\n      \n      // Обрізання повної дати до року\n      const yearRelease = release_date.slice(0, 4);\n\n      return `\n          <li class=\"films-list__item\">\n                <a class=\"films-list__link\" id=${id}>\n                  <img class=\"films-list-item__poster\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\" loading=\"lazy\"  />\n                  <div class=\"films-list-item__info\">\n                    <h2 class=\"films-list-item__tittle\">${title}</h2>\n                    <p class=\"films-list-item__ganres\">\n                      <span class=\"films-list-item__year\">${genres} | ${yearRelease}</span>\n                    </p>\n                  </div>\n                </a></li>`;\n    })\n    .join('');\n\n  return markupFilmsCard;\n}\n\n\n\n"," class Loader {\n  constructor() {\n    this.loaderElement = document.createElement('div');\n    this.loaderElement.className = 'loader';\n  }\n\n  show() {\n    document.body.appendChild(this.loaderElement);\n  }\n\n  hide() {\n    this.loaderElement.remove();\n  }\n}\n\nexport const loader = new Loader();","import { refs } from './refs';\n\nexport let lastPage = null; \n\nexport function buildingPagination({ page, total_pages: totalPages }) {\n   const screenWidth = window.screen.width;\n    lastPage = totalPages;\n    \n// Пагінація для Mobile\n    if (screenWidth < 768) {\n      if (totalPages < 5) {\n            const buttonsPages = [];\n            for (i = 1; i <= totalPages; i += 1) {\n                buttonsPages.push(`<li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${i}\">${i}</button></li>`)\n            }\n          refs.buttonsPagesList.innerHTML = `${buttonsPages.join('')}`;\n            \n          const currentPage = document.querySelector(`#page-${page}`);\n            currentPage.classList.add('current-page')\n            return\n        }\n\n    if (page < 4) {\n      refs.buttonsPagesList.innerHTML = `<li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-1\">1</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-2\">2</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-3\">3</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-4\">4</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button id=\"page-5\">5</button></li>\n`;\n        const currentPage = document.querySelector(`#page-${page}`);\n        currentPage.classList.add('current-page')\n        return;\n    }\n\n    if (page + 2 >= totalPages) {\n      refs.buttonsPagesList.innerHTML = `\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages - 4}\">${totalPages - 4}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages - 3}\">${totalPages - 3}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages - 2}\">${totalPages - 2}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages - 1}\">${totalPages - 1}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages}\">${totalPages}</button></li>\n    `;\n        const currentPage = document.querySelector(`#page-${page}`);\n        currentPage.classList.add('current-page')\n        return;\n    }\n    if (page >= 4) {\n      refs.buttonsPagesList.innerHTML = `<li><button class=\"button-pagination button-page\" type=\"button\">${page - 2}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\">${page - 1}</button></li>\n    <li><button class=\"button-pagination button-page current-page\" type=\"button\">${page}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\">${page + 1}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\">${page + 2}</button></li>\n    `;\n      return;\n    }\n  }\n\n    // Пагінація для Tablet, Desktop\n  if (totalPages < 10) {\n            const buttonsPages = [];\n            for (i = 1; i <= totalPages; i += 1) {\n                buttonsPages.push(`<li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${i}\">${i}</button></li>`)\n            }\n          refs.buttonsPagesList.innerHTML = `${buttonsPages.join('')}`;\n            \n        const currentPage = document.querySelector(`#page-${page}`);\n            currentPage.classList.add('current-page')\n            return\n        }\n  \n    if (page < 5) {\n    refs.buttonsPagesList.innerHTML = `<li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-1\">1</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-2\">2</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-3\">3</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-4\">4</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-5\">5</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-6\">6</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-7\">7</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" disabled>...</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\">${totalPages}</button></li>\n`;\n    const currentPage = document.querySelector(`#page-${page}`);\n    currentPage.classList.add('current-page')\n    return;\n  }\n\n  if (page + 5 >= totalPages) {\n    refs.buttonsPagesList.innerHTML = `<li><button class=\"button-pagination button-page\" type=\"button\">1</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" disabled>...</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages-6}\">${totalPages - 6}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages-5}\">${totalPages - 5}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages-4}\">${totalPages - 4}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages-3}\">${totalPages - 3}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages-2}\">${totalPages - 2}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages-1}\">${totalPages - 1}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages}\">${totalPages}</button></li>\n    `;\n      \n    const currentPage = document.querySelector(`#page-${page}`);\n    currentPage.classList.add('current-page')\n    return;\n  }\n\n  if (page >= 5) {\n    refs.buttonsPagesList.innerHTML = `\n        <li><button class=\"button-pagination button-page\" type=\"button\">1</button></li>\n        <li><button class=\"button-pagination button-page\" type=\"button\" disabled>...</button></li>\n        <li><button class=\"button-pagination button-page\" type=\"button\">${page - 2}</button></li>\n        <li><button class=\"button-pagination button-page\" type=\"button\">${page - 1}</button></li>\n        <li><button class=\"button-pagination button-page current-page\" type=\"button\">${page}</button></li>\n        <li><button class=\"button-pagination button-page\" type=\"button\">${page + 1}</button></li>\n        <li><button class=\"button-pagination button-page\" type=\"button\">${page + 2}</button></li>\n        <li><button class=\"button-pagination button-page\" type=\"button\" disabled>...</button></li>\n        <li><button class=\"button-pagination button-page\" type=\"button\">${totalPages}</button></li>\n    `;\n      return;\n  }\n}\n","const refs = {\n  homeHeaderForm: document.querySelector('.header__form'),\n  cardContainer: document.querySelector('.cards-container'),\n  conbuttonBack: document.querySelector('.button-back'),\n  buttonForward: document.querySelector('.button-forward'),\n  buttonsPagesList: document.querySelector('.buttons-pages'),\n  buttonQueue: document.querySelector('.header__btn-queue'),\n  buttonWatched: document.querySelector('.header__btn-watched'),\n};\n\nexport { refs };\n","import { apiService } from './filmsAPIServise';\nimport { libraryLogic } from './workWithLocalStorage';\n\n//=================== Добавление обработчика события на кнопку \"Открыть модальное окно\"================\nlet modal;\nlet backdrop;\nlet btnWatched;\nlet btnQueue;\nlet film;\nconst cardsContainer = document.querySelector('.cards-container');\ncardsContainer.addEventListener('click', handleModalBtnClick);\n\nfunction handleModalBtnClick(event) {\n  if (event.target.closest('.films-list__link')) {\n    const idFilm = event.target.closest('.films-list__link').getAttribute('id');\n\n    apiService.getMoviesDetails(idFilm).then(movieData => {\n      film = movieData;\n      createModal(movieData);\n      createBackdrop();\n\n      btnWatched = document.querySelector('.button-watched');\n      btnQueue = document.querySelector('.button-queue');\n\n      moviesListWatched = JSON.parse(localStorage.getItem('watched'));\n      moviesListQueue = JSON.parse(localStorage.getItem('queue'));\n\n      if(moviesListWatched){\n          const listWatched = moviesListWatched.find(movie => movie.id === film.id);\n          if(listWatched) {\n            btnWatched.textContent = 'Remove from Watched';\n          }\n          \n      } \n      \n      if(moviesListQueue){\n        const listQueue = moviesListQueue.find(queueMovie => queueMovie.id === film.id);\n        if(listQueue) {\n          btnQueue.textContent = 'Remove from Queue';\n        }\n      } \n      \n        btnWatched.addEventListener('click', addFilmToListWatched);\n        btnQueue.addEventListener('click', addFilmToListQueue);\n    });\n  }\n}\n\nfunction createModal(movieData) {\n  modal = document.createElement('div');\n  modal.classList.add('modal');\n\n  const modalHTML = `\n      <div class=\"modal_content\">\n      <div class=\"close\">\n      <svg width=\"16\" height=\"16\" viewBox=\"0 0 30 30\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M8 8L22 22\" stroke=\"black\" stroke-width=\"2\"/>\n  <path d=\"M8 22L22 8\" stroke=\"black\" stroke-width=\"2\"/>\n  </svg>\n    </div>\n        <img src=\"https://image.tmdb.org/t/p/w500/${\n          movieData.poster_path\n        }\" class=\"modal_img\">\n        <div class=\"tablet_modal\">\n        <h2 class=\"main_text_modal\">${movieData.title}</h2>\n        <div class=\"modal_items_container\">\n          <ul class=\"modal_list modal-text\">\n            <li>Vote / Votes</li>\n            <li>Popularity</li>\n            <li>Original Title</li>\n            <li>Genre</li>\n          </ul>\n          <ul class=\"modal_list modal_list--black modal-text\">\n            <li>\n              <span class=\"modal-item__info vote_span\">${movieData.vote_average.toFixed(\n                1\n              )}</span>\n              <span class=\"delimiter\"> / </span>\n              <span class=\"modal-item__info vote_count_span\">${movieData.vote_count}</span>\n            </li>\n            <li>${movieData.popularity.toFixed(1)}</li>\n            <li>${movieData.title}</li>\n            <li>${movieData.genres[0].name}</li>\n          </ul>\n        </div>\n        <p class=\"about_modal_text modal-text\">About</p>\n        <p class=\"overview_modal modal-text\">${movieData.overview}</p>\n        <div class=\"buttons-modal\">\n          <button class=\"button-modal button-watched\" type=\"button\">Add to Watched</button>\n          <button class=\"button-modal button-queue\" type=\"button\">Add to Queue</button>\n        </div>\n      </div>\n      </div>\n    `;\n\n  modal.innerHTML = modalHTML;\n\n  document.body.appendChild(modal);\n\n  const closeBtn = modal.querySelector('.close');\n\n  closeBtn.addEventListener('click', () => {\n    closeModal();\n    backdrop.remove();\n  });\n\n  const closeOnEsc = event => {\n    if (event.key === 'Escape') {\n      closeModal();\n      backdrop.remove();\n    }\n  };\n\n  document.addEventListener('keydown', closeOnEsc);\n}\n\n//===========БЕКДРОП=================\nfunction createBackdrop() {\n  backdrop = document.createElement('div');\n  backdrop.classList.add('modal-backdrop');\n\n  document.body.appendChild(backdrop);\n\n  const closeBackdrop = () => {\n    // backdrop.remove();\n    closeModal();\n  };\n\n  backdrop.addEventListener('click', closeBackdrop);\n\n  const closeOnEsc = event => {\n    if (event.key === 'Escape') {\n      closeBackdrop();\n      document.removeEventListener('keydown', closeOnEsc);\n    }\n  };\n\n  document.addEventListener('keydown', closeOnEsc);\n}\n\nfunction closeModal() {\n  modal.remove();\n  backdrop.remove();\n}\n\nfunction  addFilmToListWatched(event) {\n    if (event.currentTarget.textContent === 'Add to Watched') {\n      btnQueue.setAttribute('disabled', '');\n        event.currentTarget.textContent = 'Remove from Watched';\n        libraryLogic.addToLocalStorage(film, 'watched')\n    } else if(event.currentTarget.textContent === 'Remove from Watched') {\n        event.currentTarget.textContent = 'Add to Watched'\n        btnQueue.removeAttribute('disabled', '');\n        libraryLogic.removeFromLocalstorage(film, 'watched')\n    }\n\n  }\n\nfunction addFilmToListQueue(event) {\n    if (event.currentTarget.textContent === 'Add to Queue') {\n        btnWatched.setAttribute('disabled', '');\n        event.currentTarget.textContent = 'Remove from Queue';\n        libraryLogic.addToLocalStorage(film, 'queue')\n    } else if(event.currentTarget.textContent === 'Remove from Queue') {\n        event.currentTarget.textContent = 'Add to Queue'\n        btnWatched.removeAttribute('disabled', '');\n        libraryLogic.removeFromLocalstorage(film, 'queue')\n    }\n    \n  }"],"names":["$9CftO","parcelRequire","async","apiService","fetchMovieGenres","genres","map","item","values","Object","localStorage","setItem","$1846867684e857fa$var$getGenresInfo","$1846867684e857fa$export$bb5dcce2800433c5","addToLocalStorage","film","listType","moviesList","JSON","parse","getItem","find","movie","id","push","stringify","removeFromLocalstorage","type","queueMovies","queueMovie","filter","watchedMovies","watchedMovie","getFromStorage","key","movieStorage","error","console","log","constructor","$7003aba55d24a7e9$export$d0204b1ddc8ee140","response","fetch","this","requestType","searchQuery","page","json","data","url","ok","Error","lang","query","newQuery","pages","newPage","newType","$93c9a44056c4a9b9$export$2e2bcd8739ae039","films","title","poster_path","release_date","genre_ids","id1","genresId","length","splice","join","slice","$bdfcdc80b4c38739$export$f4c5de44377d2946","show","document","body","appendChild","loaderElement","hide","remove","createElement","className","$krGWQ","$7ceef3e5d95a1a9b$export$ad257fef69e3ed2d","$7ceef3e5d95a1a9b$export$db0310b2bbd3423d","total_pages","totalPages","screenWidth","window","screen","width","buttonsPages","i","refs","buttonsPagesList","innerHTML","querySelector","classList","add","$ee27a4d7c64fc8c4$export$21666b427502ea6d","homeHeaderForm","cardContainer","conbuttonBack","buttonForward","buttonQueue","buttonWatched","$5f88b64defc87736$var$modal","$5f88b64defc87736$var$backdrop","$5f88b64defc87736$var$btnWatched","$5f88b64defc87736$var$btnQueue","$5f88b64defc87736$var$film","$5f88b64defc87736$var$closeModal","$5f88b64defc87736$var$addFilmToListWatched","event","currentTarget","textContent","setAttribute","$25dvs","libraryLogic","removeAttribute","$5f88b64defc87736$var$addFilmToListQueue","addEventListener","target","closest","idFilm","getAttribute","getMoviesDetails","then","movieData","modalHTML","vote_average","toFixed","vote_count","popularity","name","overview","closeOnEsc","$5f88b64defc87736$var$createModal","closeBackdrop","removeEventListener","$5f88b64defc87736$var$createBackdrop","moviesListWatched","moviesListQueue"],"version":3,"file":"index.c72a6e11.js.map"}