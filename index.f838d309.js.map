{"mappings":"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","sources":["src/index.js","src/js/mainRendering.js","src/js/pagination.js"],"sourcesContent":["import './js/workWithLocalStorage';\nimport './js/mainRendering';\nimport './js/pagination';\nimport './js/modalWindowRendering';\nimport './js/footerModalRendering';","// Сюди бажано не лізти\nimport { apiService } from './filmsAPIServise';\nimport { refs } from './refs';\nimport renderMarkupFilmsCard from './renderMarkupFilmsCard';\nimport { loader } from './loader';\nimport { lastPage, buildingPagination } from './renderingPagination';\n\ndocument.addEventListener('DOMContentLoaded', receivingPopularFilms);\n\nexport default async function receivingPopularFilms() {\n  loader.show();\n  const responce = await apiService.getPopularMovies();\n  loader.hide();\n\n  apiService.requestType = 'trending';\n  try {\n    localStorage.setItem('currentPage', JSON.stringify(responce));\n  } catch (error) {\n    console.log(error.message);\n  }\n  buildingPagination(responce);\n  return (refs.cardContainer.innerHTML = renderMarkupFilmsCard(\n    responce.results\n  ));\n}\n\nwindow.addEventListener('resize', evt => {\n  try {\n    const filmsForCurrentPage = JSON.parse(localStorage.getItem('currentPage'));\n    apiService.page = filmsForCurrentPage.page;\n    buildingPagination(filmsForCurrentPage);\n  } catch (error) {\n    console.log(error.message);\n  }\n});\ndocument.addEventListener('submit', gettingMoviesByKeyword);\n\nasync function gettingMoviesByKeyword(e) {\n  e.preventDefault();\n\n  apiService.query = refs.homeHeaderForm.query.value;\n  apiService.requestType = 'search';\n  console.log(apiService.requestType);\n\n  loader.show();\n  const responce = await apiService.fetchMovieByQuery();\n  loader.hide();\n\n  buildingPagination(responce);\n  return (refs.cardContainer.innerHTML = renderMarkupFilmsCard(\n    responce.results\n  ));\n}\n","import { apiService } from './filmsAPIServise';\nimport { refs } from './refs' ;\nimport renderMarkupFilmsCard from './renderMarkupFilmsCard';\nimport { loader } from './loader';\nimport {lastPage, buildingPagination } from './renderingPagination';\n\n// const buttonBack = document.querySelector('.button-back');\n// const buttonForward = document.querySelector('.button-forward');\n// const buttonsPagesList = document.querySelector('.buttons-pages');\n\n// Слухач на клік по кнопці з номером сторінки\nrefs.buttonsPagesList.addEventListener('click', renderingFilmsByPageNumber);\n// Слухач на клік по кнопці назад\nrefs.buttonBack.addEventListener('click', goBackOnePage);\n// Слухач на клік по кнопці вперед\nrefs.buttonForward.addEventListener('click', goForwardOnePage);\n\nfunction renderingFilmsByPageNumber(evt) {\n    if (evt.target.type !== 'button') {\n    return\n    }\n\n    if (apiService.requestType === 'trending') {\n        const fetchPage = evt.target.textContent;\n        apiService.page = Number(fetchPage);\n        loader.show();\n        apiService.getPopularMovies().then(data => {\n            buildingPagination(data);\n            refs.cardContainer.innerHTML = renderMarkupFilmsCard(data.results);\n            try { localStorage.setItem('currentPage', JSON.stringify(data)) } catch (error) { console.log(error.message) }\n        }).catch(error => error.message).finally(() => loader.hide());\n        window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" });\n        return\n    }\n\n    if (apiService.requestType === 'search') {\n        const fetchPage = evt.target.textContent;\n        apiService.page = Number(fetchPage);\n        loader.show();\n        apiService.fetchMovieByQuery().then(data => {\n            buildingPagination(data);\n            refs.cardContainer.innerHTML = renderMarkupFilmsCard(data.results)\n            try { localStorage.setItem('currentPage', JSON.stringify(data)) } catch (error) { console.log(error.message) }\n        }).catch(error => error.message).finally(() => loader.hide());\n        \n        window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" }); \n    }\n}\n\nfunction goBackOnePage() {\n    if (apiService.requestType === 'trending') {\n        if (apiService.page !== 1) {\n            apiService.page -= 1;\n            loader.show();\n            apiService.getPopularMovies().then(data => {\n                buildingPagination(data);\n                refs.cardContainer.innerHTML = renderMarkupFilmsCard(data.results);\n                try { localStorage.setItem('currentPage', JSON.stringify(data)) } catch (error) { console.log(error.message) }\n            }).catch(error => error.message).finally(() => loader.hide());\n            window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" })\n        }\n        return\n    }\n    if (apiService.requestType === 'search') {\n        if (apiService.page !== 1) {\n            apiService.page -= 1;\n            loader.show();\n            apiService.fetchMovieByQuery().then(data => {\n                buildingPagination(data);\n                refs.cardContainer.innerHTML = renderMarkupFilmsCard(data.results);\n                try { localStorage.setItem('currentPage', JSON.stringify(data)) } catch (error) { console.log(error.message) }\n            }).catch(error => error.message).finally(() => loader.hide());\n            window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" })\n        }\n    }\n}\n\nfunction goForwardOnePage() {\n    if (apiService.requestType === 'trending') {\n        if (apiService.page !== lastPage) {\n            apiService.page += 1;\n            loader.show();\n            apiService.getPopularMovies().then(data => {\n                buildingPagination(data);\n                refs.cardContainer.innerHTML = renderMarkupFilmsCard(data.results);\n                try { localStorage.setItem('currentPage', JSON.stringify(data)) } catch (error) { console.log(error.message) }\n            }).catch(error => error.message).finally(() => loader.hide());\n            window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" })\n        }\n    }\n\n    if (apiService.requestType === 'search') {\n        if (apiService.page !== lastPage) {\n            apiService.page += 1;\n            loader.show();\n            apiService.fetchMovieByQuery().then(data => {\n                buildingPagination(data);\n                refs.cardContainer.innerHTML = renderMarkupFilmsCard(data.results)\n                try { localStorage.setItem('currentPage', JSON.stringify(data)) } catch (error) { console.log(error.message) }\n                 loader.hide();\n            }).catch(error => error.message).finally(() => loader.hide());\n            window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" })\n        }\n    }\n}\n"],"names":["parcelRequire","$9CftO","document","addEventListener","async","$gjiCh","loader","show","responce","apiService","getPopularMovies","hide","requestType","localStorage","setItem","JSON","stringify","error","console","log","message","$aJ15F","buildingPagination","$krGWQ","refs","cardContainer","innerHTML","$cGFyt","default","results","window","evt","filmsForCurrentPage","parse","getItem","page","e","preventDefault","query","homeHeaderForm","value","fetchMovieByQuery","buttonsPagesList","target","type","fetchPage","textContent","Number","then","data","catch","finally","scrollTo","top","left","behavior","buttonBack","buttonForward","lastPage"],"version":3,"file":"index.f838d309.js.map"}