const e=new class{async fetchMovieByQuery(){const e=await fetch(`https://api.themoviedb.org/3/${this.requestType}/movie?api_key=aa05d9ef1feff0e96ac321d8773a5c67&query=${this.searchQuery}&page=${this.page}`);return await e.json()}async getPopularMovies(){try{const e=await fetch(`https://api.themoviedb.org/3/${this.requestType}/movie/day?api_key=aa05d9ef1feff0e96ac321d8773a5c67&page=${this.page}`),t=await e.json();return t}catch(e){console.log(e)}}async getFilmDetails(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=aa05d9ef1feff0e96ac321d8773a5c67&language=${this.lang}`);if(!t.ok)throw new Error("error");return await t.json()}catch(e){console.log(e)}}get query(){return this.searchQuery}set query(e){this.searchQuery=e}get pages(){return this.page}set pages(e){this.page=e}get type(){return this.requestType}set type(e){this.requestType=e}constructor(){this.searchQuery="",this.page=1,this.requestType="trending"}},t={homeHeaderForm:document.querySelector(".header__form"),cardContainer:document.querySelector(".cards-container")};function a(e){const a=window.innerWidth,s=e.map((({title:e,poster_path:t,release_date:s,genre_ids:i})=>{let r;r=a>=1200?"395px":a>=768?"336px":"280px",i.length>2&&i.splice(2,i.length-2,"Other");return`\n          <li class="films-list__item">\n                <a href="">\n                  <img class="films-list-item__poster" src="https://image.tmdb.org/t/p/w500${t}" alt="${e}" loading="lazy" width=${r} />\n                  <div class="films-list-item__info">\n                    <h2 class="films-list-item__tittle">${e}</h2>\n                    <p class="films-list-item__ganres">\n                      <span class="films-list-item__year">${i} | ${s.slice(0,4)}</span>\n                    </p>\n                  </div>\n                </a>`})).join("");return t.cardContainer.innerHTML=s}document.addEventListener("DOMContentLoaded",(async function(){a((await e.getPopularMovies()).results)})),document.addEventListener("submit",(async function(s){s.preventDefault(),e.type="search",e.query=t.homeHeaderForm.query.value;a((await e.fetchMovieByQuery()).results)}));
//# sourceMappingURL=index.79319283.js.map
