{"mappings":"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","sources":["src/js/filmsAPIServise.js","src/js/workWithLocalStorage.js","src/js/renderMarkupFilmsCard.js","src/js/loader.js","src/js/refs.js","src/js/renderingPagination.js","src/js/mainRendering.js","src/js/pagination.js","src/js/modalWindowRendering.js"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'aa05d9ef1feff0e96ac321d8773a5c67';\n\nclass Apiservice {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n    this.requestType = 'trending';\n  }\n\n  async fetchMovieByQuery() {\n    const response = await fetch(\n      `${BASE_URL}${this.requestType}/movie?api_key=${API_KEY}&query=${this.searchQuery}&page=${this.page}`\n    );\n    const results = await response.json();\n    return results;\n  }\n\n  async getPopularMovies() {\n    try {\n      const response = await fetch(\n        `${BASE_URL}${this.requestType}/movie/day?api_key=${API_KEY}&page=${this.page}`\n      );\n      const data = await response.json();\n      const popularMovies = data;\n      return popularMovies;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async fetchMovieGenres() {\n    try {\n      const url = `${BASE_URL}genre/movie/list?api_key=${API_KEY}`;\n      const response = await fetch(url);\n\n      if (!response.ok) {\n        throw new Error('error');\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async getMoviesDetails(id) {\n    try {\n      const response = await fetch(\n        `${BASE_URL}movie/${id}?api_key=${API_KEY}&language=${this.lang}`\n      );\n      if (!response.ok) {\n        throw new Error('error');\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async getMovieTrailer(id) {\n    const url = `${BASE_URL}movie/${id}/videos?api_key=${API_KEY}`;\n\n    try {\n      const response = await fetch(url);\n      if (!response.ok) {\n        throw new Error(`Error`);\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n\n  get pages() {\n    return this.page;\n  }\n  set pages(newPage) {\n    this.page = newPage;\n  }\n  get type() {\n    return this.requestType;\n  }\n\n  set type(newType) {\n    this.requestType = newType;\n  }\n}\n\nexport const apiService = new Apiservice();","import { apiService } from './filmsAPIServise';\n\nasync function getGenresInfo() {\n  const response = await apiService.fetchMovieGenres();\n\n  const genres = response.genres;\n  genres.map(item => {\n    const values = Object.values(item);\n    localStorage.setItem(values[0], values[1]);\n  });\n}\n\ngetGenresInfo();\n\nclass LibraryLogic {\n  constructor() { }\n  addToLocalStorage(film, listType) {\n  let moviesList;\n\n   // Перевірка типу списку та отримання відповідного списку фільмів з localStorage\n  if (listType === 'watched') {\n    moviesList = JSON.parse(localStorage.getItem('watched')) || [];\n  } else if (listType === 'queue') {\n    moviesList = JSON.parse(localStorage.getItem('queue')) || [];\n  }\n\n  // Перевірка на наявність дублікатів в списку фільмів\n  if (!moviesList.find(movie => movie.id === film.id)) {\n    \n    // Додавання фільму до списку\n    moviesList.push(film);\n    \n    // Оновлення localStorage\n    localStorage.setItem(listType, JSON.stringify(moviesList));\n  }\n}\n\n  removeFromLocalstorage(film, type) {\n    if (type == 'Queue') {\n      const queueMovies = JSON.parse(localStorage.getItem('queue'));\n      if (queueMovies.find(queueMovie => queueMovie.id === film.id)) {\n        localStorage.setItem(\n          'queue',\n          JSON.stringify(\n            queueMovies.filter(queueMovie => queueMovie.id !== film.id)\n          )\n        );\n      }\n      return;\n    } else {\n      const watchedMovies = JSON.parse(localStorage.getItem('watched'));\n\n      if (watchedMovies.find(watchedMovie => watchedMovie.id === film.id)) {\n        localStorage.setItem(\n          'watched',\n          JSON.stringify(\n            watchedMovies.filter(watchedMovie => watchedMovie.id !== film.id)\n          )\n        );\n      }\n      return;\n    }\n  }\n}\n\nexport const libraryLogic = new LibraryLogic();\n","//Катя Допрацьовуєш тут\n\nexport default function renderMarkupFilmsCard(films) {\n  const markupFilmsCard = films\n    .map(({ title, poster_path, release_date, genre_ids, id }) => {\n      // Перевірка кількості жанрів\n\n      const genresId = genre_ids.map(id => localStorage.getItem(id));\n      \n      if (genresId.length > 2) {\n        genresId.splice(2, genresId.length - 2, 'Other');\n      }\n\n      const genres = genresId.join(', ');\n      \n      // Обрізання повної дати до року\n      const yearRelease = release_date.slice(0, 4);\n\n      return `\n          <li class=\"films-list__item\">\n                <a class=\"films-list__link\" id=${id}>\n                  <img class=\"films-list-item__poster\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\" loading=\"lazy\"  />\n                  <div class=\"films-list-item__info\">\n                    <h2 class=\"films-list-item__tittle\">${title}</h2>\n                    <p class=\"films-list-item__ganres\">\n                      <span class=\"films-list-item__year\">${genres} | ${yearRelease}</span>\n                    </p>\n                  </div>\n                </a></li>`;\n    })\n    .join('');\n\n  return markupFilmsCard;\n}\n\n\n\n"," class Loader {\n  constructor() {\n    this.loaderElement = document.createElement('div');\n    this.loaderElement.className = 'loader';\n  }\n\n  show() {\n    document.body.appendChild(this.loaderElement);\n  }\n\n  hide() {\n    this.loaderElement.remove();\n  }\n}\n\nexport const loader = new Loader();","const refs = {\n  homeHeaderForm: document.querySelector('.header__form'),\n  cardContainer: document.querySelector('.cards-container'),\n  conbuttonBack: document.querySelector('.button-back'),\n  buttonForward: document.querySelector('.button-forward'),\n  buttonsPagesList: document.querySelector('.buttons-pages')\n};\n\nexport { refs };\n","import { refs } from './refs';\n\nexport let lastPage = null; \n\nexport function buildingPagination({ page, total_pages: totalPages }) {\n   const screenWidth = window.screen.width;\n    lastPage = totalPages;\n    \n// Пагінація для Mobile\n  if (screenWidth < 768) {\n    if (page < 4) {\n      refs.buttonsPagesList.innerHTML = `<li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-1\">1</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-2\">2</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-3\">3</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-4\">4</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button id=\"page-5\">5</button></li>\n`;\n        const currentPage = document.querySelector(`#page-${page}`);\n        currentPage.classList.add('current-page')\n        return;\n    }\n\n    if (page + 2 >= totalPages) {\n      refs.buttonsPagesList.innerHTML = `\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages - 4}\">${totalPages - 4}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages - 3}\">${totalPages - 3}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages - 2}\">${totalPages - 2}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages - 1}\">${totalPages - 1}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages}\">${totalPages}</button></li>\n    `;\n        const currentPage = document.querySelector(`#page-${page}`);\n        currentPage.classList.add('current-page')\n        return;\n    }\n    if (page >= 4) {\n      refs.buttonsPagesList.innerHTML = `<li><button class=\"button-pagination button-page\" type=\"button\">${page - 2}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\">${page - 1}</button></li>\n    <li><button class=\"button-pagination button-page current-page\" type=\"button\">${page}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\">${page + 1}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\">${page + 2}</button></li>\n    `;\n      return;\n    }\n  }\n\n    // Пагінація для Tablet, Desktop\n  if (page < 5) {\n    refs.buttonsPagesList.innerHTML = `<li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-1\">1</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-2\">2</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-3\">3</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-4\">4</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-5\">5</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-6\">6</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-7\">7</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" disabled>...</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\">${totalPages}</button></li>\n`;\n    const currentPage = document.querySelector(`#page-${page}`);\n    currentPage.classList.add('current-page')\n    return;\n  }\n\n  if (page + 5 >= totalPages) {\n    refs.buttonsPagesList.innerHTML = `<li><button class=\"button-pagination button-page\" type=\"button\">1</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" disabled>...</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages-6}\">${totalPages - 6}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages-5}\">${totalPages - 5}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages-4}\">${totalPages - 4}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages-3}\">${totalPages - 3}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages-2}\">${totalPages - 2}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages-1}\">${totalPages - 1}</button></li>\n    <li><button class=\"button-pagination button-page\" type=\"button\" id=\"page-${totalPages}\">${totalPages}</button></li>\n    `;\n      \n    const currentPage = document.querySelector(`#page-${page}`);\n    currentPage.classList.add('current-page')\n    return;\n  }\n\n  if (page >= 5) {\n    refs.buttonsPagesList.innerHTML = `\n        <li><button class=\"button-pagination button-page\" type=\"button\">1</button></li>\n        <li><button class=\"button-pagination button-page\" type=\"button\" disabled>...</button></li>\n        <li><button class=\"button-pagination button-page\" type=\"button\">${page - 2}</button></li>\n        <li><button class=\"button-pagination button-page\" type=\"button\">${page - 1}</button></li>\n        <li><button class=\"button-pagination button-page current-page\" type=\"button\">${page}</button></li>\n        <li><button class=\"button-pagination button-page\" type=\"button\">${page + 1}</button></li>\n        <li><button class=\"button-pagination button-page\" type=\"button\">${page + 2}</button></li>\n        <li><button class=\"button-pagination button-page\" type=\"button\" disabled>...</button></li>\n        <li><button class=\"button-pagination button-page\" type=\"button\">${totalPages}</button></li>\n    `;\n      return;\n  }\n}","// Сюди бажано не лізти\nimport { apiService } from './filmsAPIServise';\n// import refs from './refs';\nimport renderMarkupFilmsCard from './renderMarkupFilmsCard';\nimport { loader } from './loader';\nimport { lastPage, buildingPagination } from './renderingPagination';\n\n export const refs = {\n  homeHeaderForm: document.querySelector('.header__form'),\n  cardContainer: document.querySelector('.cards-container'),\n};\n\ndocument.addEventListener('DOMContentLoaded', receivingPopularFilms);\n\n export default async function receivingPopularFilms() {\n  loader.show();\n  const responce = await apiService.getPopularMovies();\n  loader.hide();\n\n   apiService.requestType = 'trending';\n   try { localStorage.setItem('currentPage', JSON.stringify(responce))} catch (error){console.log(error.message)};\n  buildingPagination(responce);\n  return (refs.cardContainer.innerHTML = renderMarkupFilmsCard(\n    responce.results\n  ));\n}\n\nwindow.addEventListener('resize', evt => {\n  try {\n    const filmsForCurrentPage = JSON.parse(localStorage.getItem('currentPage'));\n    apiService.page = filmsForCurrentPage.page;\n    buildingPagination(filmsForCurrentPage);\n  } catch(error) {console.log(error.message)}\n})\ndocument.addEventListener('submit', gettingMoviesByKeyword);\n\nasync function gettingMoviesByKeyword(e) {\n  e.preventDefault();\n\n  apiService.query = refs.homeHeaderForm.query.value;\n  apiService.requestType = 'search';\n  console.log(apiService.requestType);\n\n  loader.show();\n  const responce = await apiService.fetchMovieByQuery();\n  loader.hide();\n\n  buildingPagination(responce);\n  return (refs.cardContainer.innerHTML = renderMarkupFilmsCard(\n    responce.results\n  ));\n}\n","import { apiService } from './filmsAPIServise';\nimport { refs } from './refs' ;\nimport renderMarkupFilmsCard from './renderMarkupFilmsCard';\nimport { loader } from './loader';\nimport {lastPage, buildingPagination } from './renderingPagination';\n\nconst buttonBack = document.querySelector('.button-back');\nconst buttonForward = document.querySelector('.button-forward');\nconst buttonsPagesList = document.querySelector('.buttons-pages');\n\n// Слухач на клік по кнопці з номером сторінки\nbuttonsPagesList.addEventListener('click', renderingFilmsByPageNumber);\n// Слухач на клік по кнопці назад\nbuttonBack.addEventListener('click', goBackOnePage);\n// Слухач на клік по кнопці вперед\nbuttonForward.addEventListener('click', goForwardOnePage);\n\nfunction renderingFilmsByPageNumber(evt) {\n    if (evt.target.type !== 'button') {\n    return\n    }\n\n    if (apiService.requestType === 'trending') {\n        const fetchPage = evt.target.textContent;\n        apiService.page = Number(fetchPage);\n        loader.show();\n        apiService.getPopularMovies().then(data => {\n            buildingPagination(data);\n            refs.cardContainer.innerHTML = renderMarkupFilmsCard(data.results);\n            try { localStorage.setItem('currentPage', JSON.stringify(data)) } catch (error) { console.log(error.message) }\n        }).catch(error => error.message).finally(() => loader.hide());\n        window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" });\n        return\n    }\n\n    if (apiService.requestType === 'search') {\n        const fetchPage = evt.target.textContent;\n        apiService.page = Number(fetchPage);\n        loader.show();\n        apiService.fetchMovieByQuery().then(data => {\n            buildingPagination(data);\n            refs.cardContainer.innerHTML = renderMarkupFilmsCard(data.results)\n            try { localStorage.setItem('currentPage', JSON.stringify(data)) } catch (error) { console.log(error.message) }\n        }).catch(error => error.message).finally(() => loader.hide());\n        \n        window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" }); \n    }\n}\n\nfunction goBackOnePage() {\n    if (apiService.requestType === 'trending') {\n        if (apiService.page !== 1) {\n            apiService.page -= 1;\n            loader.show();\n            apiService.getPopularMovies().then(data => {\n                buildingPagination(data);\n                refs.cardContainer.innerHTML = renderMarkupFilmsCard(data.results);\n                try { localStorage.setItem('currentPage', JSON.stringify(data)) } catch (error) { console.log(error.message) }\n            }).catch(error => error.message).finally(() => loader.hide());\n            window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" })\n        }\n        return\n    }\n    if (apiService.requestType === 'search') {\n        if (apiService.page !== 1) {\n            apiService.page -= 1;\n            loader.show();\n            apiService.fetchMovieByQuery().then(data => {\n                buildingPagination(data);\n                refs.cardContainer.innerHTML = renderMarkupFilmsCard(data.results);\n                try { localStorage.setItem('currentPage', JSON.stringify(data)) } catch (error) { console.log(error.message) }\n            }).catch(error => error.message).finally(() => loader.hide());\n            window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" })\n        }\n    }\n}\n\nfunction goForwardOnePage() {\n    if (apiService.requestType === 'trending') {\n        if (apiService.page !== lastPage) {\n            apiService.page += 1;\n            loader.show();\n            apiService.getPopularMovies().then(data => {\n                buildingPagination(data);\n                refs.cardContainer.innerHTML = renderMarkupFilmsCard(data.results);\n                try { localStorage.setItem('currentPage', JSON.stringify(data)) } catch (error) { console.log(error.message) }\n            }).catch(error => error.message).finally(() => loader.hide());\n            window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" })\n        }\n    }\n\n    if (apiService.requestType === 'search') {\n        if (apiService.page !== lastPage) {\n            apiService.page += 1;\n            loader.show();\n            apiService.fetchMovieByQuery().then(data => {\n                buildingPagination(data);\n                refs.cardContainer.innerHTML = renderMarkupFilmsCard(data.results)\n                try { localStorage.setItem('currentPage', JSON.stringify(data)) } catch (error) { console.log(error.message) }\n                 loader.hide();\n            }).catch(error => error.message).finally(() => loader.hide());\n            window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" })\n        }\n    }\n}\n\n// Pagination for Library\n// const films = [{ \"adult\": false, \"backdrop_path\": \"/wybmSmviUXxlBmX44gtpow5Y9TB.jpg\", \"id\": 594767, \"title\": \"Shazam! Fury of the Gods\", \"original_language\": \"en\", \"original_title\": \"Shazam! Fury of the Gods\", \"overview\": \"Billy Batson and his foster siblings, who transform into superheroes by saying \\\"Shazam!\\\", are forced to get back into action and fight the Daughters of Atlas, who they must stop from using a weapon that could destroy the world.\", \"poster_path\": \"/A3ZbZsmsvNGdprRi2lKgGEeVLEH.jpg\", \"media_type\": \"movie\", \"genre_ids\": [28, 35, 14], \"popularity\": 2123.685, \"release_date\": \"2023-03-15\", \"video\": false, \"vote_average\": 6.951, \"vote_count\": 617 }, { \"adult\": false, \"backdrop_path\": \"/eSVu1FvGPy86TDo4hQbpuHx55DJ.jpg\", \"id\": 700391, \"title\": \"65\", \"original_language\": \"en\", \"original_title\": \"65\", \"overview\": \"After a catastrophic crash on an unknown planet, pilot Mills quickly discovers he's actually stranded on Earth…65 million years ago. Now, with only one chance at rescue, Mills and the only other survivor, Koa, must make their way across an unknown terrain riddled with dangerous prehistoric creatures in an epic fight to survive.\", \"poster_path\": \"/rzRb63TldOKdKydCvWJM8B6EkPM.jpg\", \"media_type\": \"movie\", \"genre_ids\": [878, 12, 53, 28], \"popularity\": 699.201, \"release_date\": \"2023-03-02\", \"video\": false, \"vote_average\": 6.386, \"vote_count\": 361 }, { \"adult\": false, \"backdrop_path\": \"/ytdebEE0ndYLSTEctPgh8e0vaBs.jpg\", \"id\": 76600, \"title\": \"Avatar: The Way of Water\", \"original_language\": \"en\", \"original_title\": \"Avatar: The Way of Water\", \"overview\": \"Set more than a decade after the events of the first film, learn the story of the Sully family (Jake, Neytiri, and their kids), the trouble that follows them, the lengths they go to keep each other safe, the battles they fight to stay alive, and the tragedies they endure.\", \"poster_path\": \"/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg\", \"media_type\": \"movie\", \"genre_ids\": [878, 12, 28], \"popularity\": 8112.525, \"release_date\": \"2022-12-14\", \"video\": false, \"vote_average\": 7.746, \"vote_count\": 6860 }];\n// try { localStorage.setItem('pagination', JSON.stringify(films)) } catch(error) {console.log(error.message)}\n\n// function renderingPaginationForQueque() {\n//     try {\n//         const filmsQueque = JSON.parse(localStorage.getItem('pagination'));\n//         const filmsAmount = filmsQueque.length;\n//         const pages = {\n//             page: 1,\n//             total_pages: Math.ceil(filmsAmount / 20)\n//         };\n//         if (pages.total_pages === 1) {\n//             buildingPagination(pages);\n//             refs.cardContainer.innerHTML = renderMarkupFilmsCard(filmsQueque);\n//         } else {\n//             for (i = 0; i < filmsAmount; i += 20){\n//                 const filmsForOnePage = filmsQueque.slice(i, i + 20);\n//             }\n//         }\n//         console.log (totalPages)\n//     } catch (error) { console.log(error.message) }\n// }\n\n// renderingPaginationForQueque()","import { apiService } from './filmsAPIServise';\nimport { libraryLogic } from './workWithLocalStorage';\n\n//=================== Добавление обработчика события на кнопку \"Открыть модальное окно\"================\nlet modal;\nlet backdrop;\nlet btnWatched;\nlet btnQueue;\nlet film;\nconst cardsContainer = document.querySelector('.cards-container');\ncardsContainer.addEventListener('click', handleModalBtnClick);\n\nfunction handleModalBtnClick(event) {\n  if (event.target.closest('.films-list__link')) {\n    const idFilm = event.target.closest('.films-list__link').getAttribute('id');\n\n    apiService.getMoviesDetails(idFilm).then(movieData => {\n        film = movieData\n      createModal(movieData);\n      createBackdrop();\n\n      btnWatched = document.querySelector('.button-watched');\n      btnQueue = document.querySelector('.button-queue');\n  \n      btnWatched.addEventListener('click', openWatchedList);\n      btnQueue.addEventListener('click', addFilmToQueue);\n    });\n  }\n}\n\nfunction createModal(movieData) {\n  modal = document.createElement('div');\n  modal.classList.add('modal');\n\n  const modalHTML = `\n      <div class=\"modal_content\">\n      <div class=\"close\">\n      <svg width=\"16\" height=\"16\" viewBox=\"0 0 30 30\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M8 8L22 22\" stroke=\"black\" stroke-width=\"2\"/>\n  <path d=\"M8 22L22 8\" stroke=\"black\" stroke-width=\"2\"/>\n  </svg>\n    </div>\n        <img src=\"https://image.tmdb.org/t/p/w500/${\n          movieData.poster_path\n        }\" class=\"modal_img\">\n        <div class=\"tablet_modal\">\n        <h2 class=\"main_text_modal\">${movieData.title}</h2>\n        <div class=\"modal_items_container\">\n          <ul class=\"modal_list\">\n            <li>Vote / Votes</li>\n            <li>Popularity</li>\n            <li>Original Title</li>\n            <li>Genre</li>\n          </ul>\n          <ul class=\"modal_list_value\">\n            <li>\n              <span class=\"vote_span\">${movieData.vote_average.toFixed(\n                1\n              )}</span>\n              <span class=\"delimiter\"> / </span>\n              <span class=\"vote_count_span\">${movieData.vote_count}</span>\n            </li>\n            <li>${movieData.popularity.toFixed(1)}</li>\n            <li>${movieData.title}</li>\n            <li>${movieData.genres[0].name}</li>\n          </ul>\n        </div>\n        <p class=\"about_modal_text\">About</p>\n        <p class=\"overview_modal\">${movieData.overview}</p>\n        <div class=\"buttons-modal\">\n          <button class=\"button-modal button-watched\" type=\"button\">Add to Watched</button>\n          <button class=\"button-modal button-queue\" type=\"button\">Add to Queue</button>\n        </div>\n      </div>\n      </div>\n    `;\n\n  modal.innerHTML = modalHTML;\n\n  document.body.appendChild(modal);\n\n  const closeBtn = modal.querySelector('.close');\n\n  closeBtn.addEventListener('click', () => {\n    closeModal();\n    backdrop.remove();\n  });\n\n  const closeOnEsc = event => {\n    if (event.key === 'Escape') {\n      closeModal();\n      backdrop.remove();\n    }\n  };\n\n  document.addEventListener('keydown', closeOnEsc);\n}\n\n//===========БЕКДРОП=================\nfunction createBackdrop() {\n  backdrop = document.createElement('div');\n  backdrop.classList.add('modal-backdrop');\n\n  document.body.appendChild(backdrop);\n\n  const closeBackdrop = () => {\n    // backdrop.remove();\n    closeModal();\n  };\n\n  backdrop.addEventListener('click', closeBackdrop);\n\n  const closeOnEsc = event => {\n    if (event.key === 'Escape') {\n      closeBackdrop();\n      document.removeEventListener('keydown', closeOnEsc);\n    }\n  };\n\n  document.addEventListener('keydown', closeOnEsc);\n}\n\nfunction closeModal() {\n  modal.remove();\n  backdrop.remove();\n}\n\nfunction openWatchedList(event) {\n    // console.log('виконую функцію watched');\n    btnQueue.setAttribute('disabled', '');\n\n    if (event.currentTarget.textContent === 'Add to Watched') {\n        event.currentTarget.textContent = 'Remove from Watched';\n        libraryLogic.addToLocalStorage(film, 'watched')\n        return\n    } else if(event.currentTarget.textContent === 'Remove from Watched') {\n        event.currentTarget.textContent = 'Add to Watched'\n        btnQueue.removeAttribute('disabled');\n        libraryLogic.removeFromLocalstorage(film, 'watched')\n    }\n\n  }\n\nfunction addFilmToQueue(event) {\n    // console.log('виконую функцію Queue')\n    btnWatched.setAttribute('disabled', '');\n    \n    if (event.currentTarget.textContent === 'Add to Queue') {\n        event.currentTarget.textContent = 'Remove from Queue';\n        libraryLogic.addToLocalStorage(film, 'queue')\n        return\n    } else if(event.currentTarget.textContent === 'Remove from Queue') {\n        event.currentTarget.textContent = 'Add to Queue'\n        btnWatched.removeAttribute('disabled', '');\n        libraryLogic.removeFromLocalstorage(film, 'Queue')\n    }\n    \n  }"],"names":["$7003aba55d24a7e9$export$d0204b1ddc8ee140","async","response","fetch","this","requestType","searchQuery","page","json","data","error","console","log","url","ok","Error","id","lang","query","newQuery","pages","newPage","type","newType","constructor","fetchMovieGenres","genres","map","item","values","Object","localStorage","setItem","$1846867684e857fa$var$getGenresInfo","$1846867684e857fa$export$bb5dcce2800433c5","addToLocalStorage","film","listType","moviesList","JSON","parse","getItem","find","movie","push","stringify","removeFromLocalstorage","queueMovies","queueMovie","filter","watchedMovies","watchedMovie","$93c9a44056c4a9b9$export$2e2bcd8739ae039","films","title","poster_path","release_date","genre_ids","id1","genresId","length","splice","join","slice","$bdfcdc80b4c38739$export$f4c5de44377d2946","show","document","body","appendChild","loaderElement","hide","remove","createElement","className","$ee27a4d7c64fc8c4$export$21666b427502ea6d","homeHeaderForm","querySelector","cardContainer","conbuttonBack","buttonForward","buttonsPagesList","$7ceef3e5d95a1a9b$export$ad257fef69e3ed2d","$7ceef3e5d95a1a9b$export$db0310b2bbd3423d","total_pages","totalPages","screenWidth","window","screen","width","innerHTML","classList","add","$af091a82a44a2137$export$21666b427502ea6d","addEventListener","responce","getPopularMovies","message","results","evt","filmsForCurrentPage","e","preventDefault","value","fetchMovieByQuery","$1bab9c519cfa82bc$var$buttonBack","$1bab9c519cfa82bc$var$buttonForward","$5f88b64defc87736$var$modal","$5f88b64defc87736$var$backdrop","$5f88b64defc87736$var$btnWatched","$5f88b64defc87736$var$btnQueue","$5f88b64defc87736$var$film","target","fetchPage","textContent","Number","then","catch","finally","scrollTo","top","left","behavior","$5f88b64defc87736$var$closeModal","$5f88b64defc87736$var$openWatchedList","event","setAttribute","currentTarget","removeAttribute","$5f88b64defc87736$var$addFilmToQueue","closest","idFilm","getAttribute","getMoviesDetails","movieData","modalHTML","vote_average","toFixed","vote_count","popularity","name","overview","closeOnEsc","key","$5f88b64defc87736$var$createModal","closeBackdrop","removeEventListener","$5f88b64defc87736$var$createBackdrop"],"version":3,"file":"index.6893e7b4.js.map"}