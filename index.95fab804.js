!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i),i("2JJTb");var a=i("bpxeT"),o=i("2TvXO"),c=i("jUnVF"),s=i("4Nugj"),u=i("1WxKN"),l=i("8MBJY"),f=i("a2hTj"),d=new(function(){"use strict";function t(){e(l)(this,t),this.loaderElement=document.createElement("div"),this.loaderElement.className="loader"}return e(f)(t,[{key:"show",value:function(){document.body.appendChild(this.loaderElement)}},{key:"hide",value:function(){this.loaderElement.remove()}}]),t}()),g=i("1DdQm");function p(){return(p=e(a)(e(o).mark((function t(){var n;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.show(),e.next=3,c.apiService.getPopularMovies();case 3:n=e.sent,d.hide(),c.apiService.requestType="trending";try{localStorage.setItem("currentPage",JSON.stringify(n))}catch(e){console.log(e.message)}return(0,g.buildingPagination)(n),e.abrupt("return",s.refs.cardContainer.innerHTML=(0,u.default)(n.results));case 9:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function h(){return(h=e(a)(e(o).mark((function t(n){var r;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c.apiService.query=s.refs.homeHeaderForm.query.value,c.apiService.requestType="search",console.log(c.apiService.requestType),d.show(),e.next=7,c.apiService.fetchMovieByQuery();case 7:return r=e.sent,d.hide(),(0,g.buildingPagination)(r),e.abrupt("return",s.refs.cardContainer.innerHTML=(0,u.default)(r.results));case 11:case"end":return e.stop()}}),t)})))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",(function(){return p.apply(this,arguments)})),window.addEventListener("resize",(function(e){try{var t=JSON.parse(localStorage.getItem("currentPage"));c.apiService.page=t.page,(0,g.buildingPagination)(t)}catch(e){console.log(e.message)}})),document.addEventListener("submit",(function(e){return h.apply(this,arguments)}));c=i("jUnVF"),s=i("4Nugj"),u=i("1WxKN"),g=i("1DdQm");s.refs.buttonsPagesList.addEventListener("click",(function(e){if("button"!==e.target.type)return;if("trending"===c.apiService.requestType){var t=e.target.textContent;return c.apiService.page=Number(t),d.show(),c.apiService.getPopularMovies().then((function(e){(0,g.buildingPagination)(e),s.refs.cardContainer.innerHTML=(0,u.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}})).catch((function(e){return e.message})).finally((function(){return d.hide()})),void window.scrollTo({top:0,left:0,behavior:"smooth"})}if("search"===c.apiService.requestType){var n=e.target.textContent;c.apiService.page=Number(n),d.show(),c.apiService.fetchMovieByQuery().then((function(e){(0,g.buildingPagination)(e),s.refs.cardContainer.innerHTML=(0,u.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}})).catch((function(e){return e.message})).finally((function(){return d.hide()})),window.scrollTo({top:0,left:0,behavior:"smooth"})}})),s.refs.buttonBack.addEventListener("click",(function(){if("trending"===c.apiService.requestType)return void(1!==c.apiService.page&&(c.apiService.page-=1,d.show(),c.apiService.getPopularMovies().then((function(e){(0,g.buildingPagination)(e),s.refs.cardContainer.innerHTML=(0,u.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}})).catch((function(e){return e.message})).finally((function(){return d.hide()})),window.scrollTo({top:0,left:0,behavior:"smooth"})));"search"===c.apiService.requestType&&1!==c.apiService.page&&(c.apiService.page-=1,d.show(),c.apiService.fetchMovieByQuery().then((function(e){(0,g.buildingPagination)(e),s.refs.cardContainer.innerHTML=(0,u.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}})).catch((function(e){return e.message})).finally((function(){return d.hide()})),window.scrollTo({top:0,left:0,behavior:"smooth"}))})),s.refs.buttonForward.addEventListener("click",(function(){"trending"===c.apiService.requestType&&c.apiService.page!==g.lastPage&&(c.apiService.page+=1,d.show(),c.apiService.getPopularMovies().then((function(e){(0,g.buildingPagination)(e),s.refs.cardContainer.innerHTML=(0,u.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}})).catch((function(e){return e.message})).finally((function(){return d.hide()})),window.scrollTo({top:0,left:0,behavior:"smooth"}));"search"===c.apiService.requestType&&c.apiService.page!==g.lastPage&&(c.apiService.page+=1,d.show(),c.apiService.fetchMovieByQuery().then((function(e){(0,g.buildingPagination)(e),s.refs.cardContainer.innerHTML=(0,u.default)(e.results);try{localStorage.setItem("currentPage",JSON.stringify(e))}catch(e){console.log(e.message)}d.hide()})).catch((function(e){return e.message})).finally((function(){return d.hide()})),window.scrollTo({top:0,left:0,behavior:"smooth"}))})),i("2Nth1"),i("hUsXy")}();
//# sourceMappingURL=index.95fab804.js.map
