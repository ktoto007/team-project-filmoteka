function e(e,t,o,r){Object.defineProperty(e,t,{get:o,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=n),n.register("25dvs",(function(t,o){e(t.exports,"libraryLogic",(function(){return a}));var r=n("9CftO");!async function(){(await r.apiService.fetchMovieGenres()).genres.map((e=>{const t=Object.values(e);localStorage.setItem(t[0],t[1])}))}();const a=new class{addToLocalStorage(e,t){let o;"watched"===t?o=JSON.parse(localStorage.getItem("watched"))||[]:"queue"===t&&(o=JSON.parse(localStorage.getItem("queue"))||[]),o.find((t=>t.id===e.id))||(o.push(e),localStorage.setItem(t,JSON.stringify(o)))}removeFromLocalstorage(e,t){if("queue"==t){const t=JSON.parse(localStorage.getItem("queue"));t.find((t=>t.id===e.id))&&localStorage.setItem("queue",JSON.stringify(t.filter((t=>t.id!==e.id))))}else{const t=JSON.parse(localStorage.getItem("watched"));t.find((t=>t.id===e.id))&&localStorage.setItem("watched",JSON.stringify(t.filter((t=>t.id!==e.id))))}}getFromStorage(e){try{const t=localStorage.getItem(e);return null===t?[]:JSON.parse(t)}catch(e){return console.log("Error"),[]}}constructor(){}}})),n.register("9CftO",(function(t,o){e(t.exports,"apiService",(function(){return r}));const r=new class{async fetchMovieByQuery(){const e=await fetch(`https://api.themoviedb.org/3/${this.requestType}/movie?api_key=aa05d9ef1feff0e96ac321d8773a5c67&query=${this.searchQuery}&page=${this.page}`);return await e.json()}async getPopularMovies(){try{const e=await fetch(`https://api.themoviedb.org/3/${this.requestType}/movie/day?api_key=aa05d9ef1feff0e96ac321d8773a5c67&page=${this.page}`),t=await e.json();return t}catch(e){console.log(e)}}async fetchMovieGenres(){try{const e="https://api.themoviedb.org/3/genre/movie/list?api_key=aa05d9ef1feff0e96ac321d8773a5c67",t=await fetch(e);if(!t.ok)throw new Error("error");return await t.json()}catch(e){console.log(e)}}async getMoviesDetails(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=aa05d9ef1feff0e96ac321d8773a5c67&language=${this.lang}`);if(!t.ok)throw new Error("error");return await t.json()}catch(e){console.log(e)}}async getMovieTrailer(e){const t=`https://api.themoviedb.org/3/movie/${e}/videos?api_key=aa05d9ef1feff0e96ac321d8773a5c67`;try{const e=await fetch(t);if(!e.ok)throw new Error("Error");return await e.json()}catch(e){console.error("Error:",e)}}get query(){return this.searchQuery}set query(e){this.searchQuery=e}get pages(){return this.page}set pages(e){this.page=e}get type(){return this.requestType}set type(e){this.requestType=e}constructor(){this.searchQuery="",this.page=1,this.requestType="trending"}}})),n.register("cGFyt",(function(t,o){function r(e){return e.map((({title:e,poster_path:t,release_date:o,genre_ids:r,id:n})=>{const a=r.map((e=>localStorage.getItem(e)));a.length>2&&a.splice(2,a.length-2,"Other");return`\n          <li class="films-list__item">\n                <a class="films-list__link" id=${n}>\n                  <img class="films-list-item__poster" src="https://image.tmdb.org/t/p/w500${t}" alt="${e}" loading="lazy"  />\n                  <div class="films-list-item__info">\n                    <h2 class="films-list-item__tittle">${e}</h2>\n                    <p class="films-list-item__ganres">\n                      <span class="films-list-item__year">${a.join(", ")} | ${o.slice(0,4)}</span>\n                    </p>\n                  </div>\n                </a></li>`})).join("")}e(t.exports,"default",(function(){return r}))})),n.register("krGWQ",(function(t,o){e(t.exports,"refs",(function(){return r}));const r={homeHeaderForm:document.querySelector(".header__form"),cardContainer:document.querySelector(".cards-container"),conbuttonBack:document.querySelector(".button-back"),buttonForward:document.querySelector(".button-forward"),buttonsPagesList:document.querySelector(".buttons-pages"),buttonQueue:document.querySelector(".header__btn-queue"),buttonWatched:document.querySelector(".header__btn-watched")}})),n.register("8cwzF",(function(e,t){var o=n("9CftO"),r=n("25dvs");let a,i,s,c,l;function d(){a.remove(),i.remove()}function u(e){if(c.setAttribute("disabled",""),"Add to Watched"===e.currentTarget.textContent)return e.currentTarget.textContent="Remove from Watched",void r.libraryLogic.addToLocalStorage(l,"watched");"Remove from Watched"===e.currentTarget.textContent&&(e.currentTarget.textContent="Add to Watched",c.removeAttribute("disabled"),r.libraryLogic.removeFromLocalstorage(l,"watched"))}function m(e){if(s.setAttribute("disabled",""),"Add to Queue"===e.currentTarget.textContent)return e.currentTarget.textContent="Remove from Queue",void r.libraryLogic.addToLocalStorage(l,"queue");"Remove from Queue"===e.currentTarget.textContent&&(e.currentTarget.textContent="Add to Queue",s.removeAttribute("disabled",""),r.libraryLogic.removeFromLocalstorage(l,"Queue"))}document.querySelector(".cards-container").addEventListener("click",(function(e){if(e.target.closest(".films-list__link")){const t=e.target.closest(".films-list__link").getAttribute("id");o.apiService.getMoviesDetails(t).then((e=>{l=e,function(e){a=document.createElement("div"),a.classList.add("modal");const t=`\n      <div class="modal_content">\n      <div class="close">\n      <svg width="16" height="16" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg">\n  <path d="M8 8L22 22" stroke="black" stroke-width="2"/>\n  <path d="M8 22L22 8" stroke="black" stroke-width="2"/>\n  </svg>\n    </div>\n        <img src="https://image.tmdb.org/t/p/w500/${e.poster_path}" class="modal_img">\n        <div class="tablet_modal">\n        <h2 class="main_text_modal">${e.title}</h2>\n        <div class="modal_items_container">\n          <ul class="modal_list">\n            <li>Vote / Votes</li>\n            <li>Popularity</li>\n            <li>Original Title</li>\n            <li>Genre</li>\n          </ul>\n          <ul class="modal_list_value">\n            <li>\n              <span class="vote_span">${e.vote_average.toFixed(1)}</span>\n              <span class="delimiter"> / </span>\n              <span class="vote_count_span">${e.vote_count}</span>\n            </li>\n            <li>${e.popularity.toFixed(1)}</li>\n            <li>${e.title}</li>\n            <li>${e.genres[0].name}</li>\n          </ul>\n        </div>\n        <p class="about_modal_text">About</p>\n        <p class="overview_modal">${e.overview}</p>\n        <div class="buttons-modal">\n          <button class="button-modal button-watched" type="button">Add to Watched</button>\n          <button class="button-modal button-queue" type="button">Add to Queue</button>\n        </div>\n      </div>\n      </div>\n    `;a.innerHTML=t,document.body.appendChild(a);a.querySelector(".close").addEventListener("click",(()=>{d(),i.remove()}));const o=e=>{"Escape"===e.key&&(d(),i.remove())};document.addEventListener("keydown",o)}(e),function(){i=document.createElement("div"),i.classList.add("modal-backdrop"),document.body.appendChild(i);const e=()=>{d()};i.addEventListener("click",e);const t=o=>{"Escape"===o.key&&(e(),document.removeEventListener("keydown",t))};document.addEventListener("keydown",t)}(),s=document.querySelector(".button-watched"),c=document.querySelector(".button-queue"),s.addEventListener("click",u),c.addEventListener("click",m)}))}}))}));
//# sourceMappingURL=index.33bf62a9.js.map
